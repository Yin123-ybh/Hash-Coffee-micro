# 🗄️ 微服务数据库创建指南

## 📋 数据库信息

**数据库账号**: `root`  
**数据库密码**: `MyNewPassword123!`  
**数据库主机**: `localhost`  
**数据库端口**: `3306`

## 🚀 快速创建数据库

### 方法一：使用脚本自动创建（推荐）

```bash
# 进入项目目录
cd /Users/yin/Downloads/coffe1/coffee-microservices

# 运行数据库创建脚本
./setup-databases.sh
```

### 方法二：手动创建数据库

```bash
# 连接MySQL
mysql -u root -p
# 输入密码: MyNewPassword123!

# 创建数据库
CREATE DATABASE IF NOT EXISTS coffee_user_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_product_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_order_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_coupon_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_cart_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_ai_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS coffee_statistics_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# 查看创建的数据库
SHOW DATABASES;
```

### 方法三：使用SQL脚本创建

```bash
# 执行完整的数据库脚本（包含表结构）
mysql -u root -p < database-scripts/create-databases.sql
# 输入密码: MyNewPassword123!
```

## 📊 微服务数据库分配

| 服务名称 | 数据库名称 | 说明 |
|---------|-----------|------|
| **用户服务** | `coffee_user_db` | 用户信息、地址管理 |
| **商品服务** | `coffee_product_db` | 商品信息、分类管理 |
| **订单服务** | `coffee_order_db` | 订单信息、订单详情 |
| **优惠券服务** | `coffee_coupon_db` | 优惠券、秒杀活动 |
| **购物车服务** | `coffee_cart_db` | 购物车商品 |
| **AI服务** | `coffee_ai_db` | AI推荐、分析数据 |
| **统计服务** | `coffee_statistics_db` | 统计数据、报表 |

## 🔧 数据库配置验证

创建数据库后，您可以验证配置：

```bash
# 检查数据库是否创建成功
mysql -u root -p -e "SHOW DATABASES LIKE 'coffee_%';"
# 输入密码: MyNewPassword123!
```

## 📝 注意事项

1. **数据库分离**: 每个微服务使用独立的数据库，避免数据耦合
2. **字符集**: 使用 `utf8mb4` 字符集，支持完整的UTF-8字符
3. **权限**: 确保MySQL用户有创建数据库的权限
4. **备份**: 建议定期备份重要的业务数据

## 🚀 下一步

数据库创建完成后，您可以：

1. **启动微服务**: 各个服务会自动连接到对应的数据库
2. **运行测试**: 验证数据库连接是否正常
3. **导入数据**: 如果需要，可以导入测试数据

---

**提示**: 如果遇到权限问题，请确保MySQL用户有足够的权限创建数据库和表。









